name: CI  # Название пайплайна
on:        # Триггеры запуска
  push:
    branches: [ main ]     # При пуше в main
  pull_request:
    branches: [ main ]     # При PR в main
jobs:
  check-code:  # Название job
    runs-on: ubuntu-latest  # ОС для выполнения
    steps:
    - uses: actions/checkout@v3  # Клонируем репозиторий
    - uses: actions/setup-python@v4  # Устанавливаем Python 3.10
      with: python-version: '3.10'
    - run: |  # Устанавливаем зависимости
        python -m pip install --upgrade pip
        pip install flake8
    - run: flake8 .  # Запускаем линтер на весь проект
